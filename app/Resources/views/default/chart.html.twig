<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script>
    google.load('visualization', '1.1', {'packages': ['corechart', 'bar', 'line']});

    function draw_charts() {
        var data = new google.visualization.DataTable();

        {% for column in chart.columns %}
        data.addColumn('{{ column.type }}', '{{ column.name }}');
        {% endfor %}
        data.addRows([
            [2004, 100.0, 100.0],
            [2005, 87.3, 101.8],
            [2006, 73.7, 93.9],
            [2007, 72.1, 90.2],
            [2008, 62.7, 84.2],
            [2009, 53.7, 77.8],
            [2010, 40.5, 69.8],
            [2011, 45.4, 70.3],
            [2012, 43.4, 73.2],
            [2013, 44.3, 67.4]
        ]);

        var options = {
            width: 820,
            height: 400,
            vAxis: {title: 'Zmarli rowerzyści / 1 mln mieszkańców, 2001 = 100'}
        };

        var chart = new google.visualization.LineChart(document.getElementById('{{ chart.id }}'));
        chart.draw(data, options);
    }
    google.setOnLoadCallback(draw_charts);
</script>